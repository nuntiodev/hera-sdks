syntax = "proto3";

package BlockUser;

option go_package = "./go_block/block_user";

import "google/protobuf/timestamp.proto";

service Service {
    rpc Heartbeat(Request) returns (Response) {}
    rpc Create(UserRequest) returns (UserResponse) {}
    rpc UpdatePassword(UserRequest) returns (UserResponse) {}
    rpc UpdateEmail(UserRequest) returns (UserResponse) {}
    rpc UpdateProfile(UserRequest) returns (UserResponse) {}
    rpc UpdateNamespace(UserRequest) returns (UserResponse) {}
    rpc UpdateSecurity(UserRequest) returns (UserResponse) {}
    rpc Get(UserRequest) returns (UserResponse) {}
    rpc GetAll(UserRequest) returns (UserResponse) {}
    rpc Search(UserRequest) returns (UserResponse) {}
    rpc ValidateCredentials(UserRequest) returns (UserResponse) {}
    rpc Delete(UserRequest) returns (UserResponse) {}
    rpc DeleteNamespace(UserRequest) returns (UserResponse) {}
}

enum Gender {
    INVALID_GENDER = 0;
    MALE = 1;
    FEMALE = 2;
    OTHER = 3;
}

message User {
    string id = 1 [json_name="id"];
    string optional_id = 2 [json_name="optional_id"];
    string namespace = 3 [json_name="namespace"];
    string role = 4 [json_name="role"];
    string name = 5 [json_name="name"];
    string email = 6 [json_name="email"];
    string password = 7 [json_name="password"];
    Gender gender = 8 [json_name="gender"];
    string country = 9 [json_name="country"];
    string image = 10 [json_name="image"];
    bool blocked = 11 [json_name="blocked"];
    google.protobuf.Timestamp birthdate = 12 [json_name="birthdate"];
	google.protobuf.Timestamp created_at = 13 [json_name="created_at"];
    google.protobuf.Timestamp updated_at = 14 [json_name="updated_at"];
}

message UserRequest {
    User user = 1;
    User update = 2;
    UserFilter filter = 3;
    string namespace = 4;
    string search = 5;
}

message UserFilter {
    enum SortBy {
        CREATED_AT = 0;
        UPDATE_AT = 1;
        BIRTHDATE = 2;
        NAME = 3;
        EMAIL = 4;
    }
    enum Order {
        INC = 0;
        DEC = 1;
    }
    int32 from = 1;
    int32 to = 2;
    SortBy sort = 3;
    Order order = 4;
}

message UserResponse {
    User user = 1;
    repeated User users = 2;
}

message Request {}

message Response {
    string msg = 1;
}
